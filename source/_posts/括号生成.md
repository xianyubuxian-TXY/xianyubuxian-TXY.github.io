---
title: 括号生成
date: 2026-01-06 20:43:00
tags:
	- oj
	- 笔试
categories:
	- 编程题
	- 递归/回溯
---

# 题目描述
![题目](/images/2026.1.6-1-oj.png)

# 解析
1.时间复杂度O(n) ——>“回溯”
2.映射： '('—>1   ')'—>-1
3.sum表示“和”，sum>=0合法，sum<0不合法
4.每次增加一个括号
- '(' : sum+1
- ')' : sum-1
- 判断是否维持sum>=0
5.最后：“左/右括号数”=0，且sum=0 ——> "合法！"

# 代码实现
```cpp
    //res:结果集   tmpRes：每次的结果   sum："和"  leftNum:'('剩余数量  right: ')'剩余数量  
    void func(vector<string>& res,string& tmpRes,int sum,int leftNum,int rightNum){
        if(sum<0) return; //sum<0:说明当前')'数量 大于 '('数量
        else if(leftNum==0 && rightNum==0 && sum==0){
            //最后都为0，则为合法组合
            res.push_back(tmpRes);
        }
        //增加左括号
        if(leftNum>0){
            tmpRes.push_back('(');
            func(res,tmpRes,sum+1,leftNum-1,rightNum);
            tmpRes.pop_back(); //回溯
        }
        //增加右括号
        if(rightNum>0){
            tmpRes.push_back(')');
            func(res,tmpRes,sum-1,leftNum,rightNum-1);
            tmpRes.pop_back(); //回溯
        }
    }

    vector<string> generateParenthesis(int n) {
        // write code here
        vector<string> res;
        if(n==0) return res;
        string tmpRes;
        func(res,tmpRes,0,n,n);
        return res;
    }
```
