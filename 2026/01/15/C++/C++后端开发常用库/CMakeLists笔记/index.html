<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"xianyubuxian-txy.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.27.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":"flat"},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="ä¸€ã€ä½¿ç”¨ç¤ºä¾‹ 1.é¡¶å±‚ç›®å½•ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55   cmake_minimum_required(VER">
<meta property="og:type" content="article">
<meta property="og:title" content="CMakeListsç¬”è®°">
<meta property="og:url" content="https://xianyubuxian-txy.github.io/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/CMakeLists%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Xianyu">
<meta property="og:description" content="ä¸€ã€ä½¿ç”¨ç¤ºä¾‹ 1.é¡¶å±‚ç›®å½•ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55   cmake_minimum_required(VER">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260115103707646.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118163502364.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118160323210.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118164449876.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118164758165.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118153916817.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118202232268.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118203157380.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118203245613.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118203314548.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118105157843.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118152755840.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118203635317.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118155211465.png">
<meta property="article:published_time" content="2026-01-15T02:26:32.000Z">
<meta property="article:modified_time" content="2026-01-18T12:48:29.524Z">
<meta property="article:author" content="å’¸é±¼">
<meta property="article:tag" content="ç¬”è®°">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260115103707646.png">


<link rel="canonical" href="https://xianyubuxian-txy.github.io/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/CMakeLists%E7%AC%94%E8%AE%B0/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://xianyubuxian-txy.github.io/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/CMakeLists%E7%AC%94%E8%AE%B0/","path":"2026/01/15/C++/C++åç«¯å¼€å‘å¸¸ç”¨åº“/CMakeListsç¬”è®°/","title":"CMakeListsç¬”è®°"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>CMakeListsç¬”è®° | Xianyu</title>
  








  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>







  




<link rel="dns-prefetch" href="https://waline-beta-black.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Xianyu</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="æœç´¢..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="nav-text">ä¸€ã€ä½¿ç”¨ç¤ºä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E9%A1%B6%E5%B1%82%E7%9B%AE%E5%BD%95%E7%A4%BA%E4%BE%8B"><span class="nav-text">1.é¡¶å±‚ç›®å½•ç¤ºä¾‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AD%90%E7%9B%AE%E5%BD%95"><span class="nav-text">2.å­ç›®å½•</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81CMake-%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE%E9%A1%BA%E5%BA%8F%E8%A7%84%E8%8C%83"><span class="nav-text">äºŒã€CMake å˜é‡è®¾ç½®é¡ºåºè§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E5%AE%8C%E6%95%B4%E6%A6%82%E8%A7%88"><span class="nav-text">ï¼ˆ1ï¼‰å®Œæ•´æ¦‚è§ˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%B2%BE%E7%AE%80%E7%89%88"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç²¾ç®€ç‰ˆ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%B8%B8%E7%94%A8%E5%8F%98%E9%87%8F"><span class="nav-text">ä¸‰ã€å¸¸ç”¨å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E9%A1%B9%E7%9B%AE%E4%BF%A1%E6%81%AF%E5%8F%98%E9%87%8F"><span class="nav-text">1.é¡¹ç›®ä¿¡æ¯å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%B1%87%E6%80%BB%E8%A1%A8%E6%A0%BC"><span class="nav-text">ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%B2%BE%E7%AE%80%E7%89%88"><span class="nav-text">&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E7%89%88"><span class="nav-text">&lt;2&gt;å®Œæ•´ç‰ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%B9%B3%E5%8F%B0%E4%B8%8E%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="nav-text">2.å¹³å°ä¸ç³»ç»Ÿå˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%B1%87%E6%80%BB%E8%A1%A8%E6%A0%BC-1"><span class="nav-text">ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-1"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%B2%BE%E7%AE%80%E7%89%88-1"><span class="nav-text">&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E7%89%88-1"><span class="nav-text">&lt;2&gt;å®Œæ•´ç‰ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%BC%96%E8%AF%91%E5%99%A8%E4%B8%8E%E5%B7%A5%E5%85%B7%E9%93%BE%E5%8F%98%E9%87%8F"><span class="nav-text">3.ç¼–è¯‘å™¨ä¸å·¥å…·é“¾å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%B1%87%E6%80%BB%E8%A1%A8%E6%A0%BC-2"><span class="nav-text">ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-2"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%9E%84%E5%BB%BA%E7%B1%BB%E5%9E%8B%E5%8F%98%E9%87%8F"><span class="nav-text">4.æ„å»ºç±»å‹å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%B1%87%E6%80%BB%E8%A1%A8%E6%A0%BC-3"><span class="nav-text">ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-3"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%B2%BE%E7%AE%80%E7%89%88-2"><span class="nav-text">&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E7%89%88-2"><span class="nav-text">&lt;2&gt;å®Œæ•´ç‰ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%93%EF%BC%9A%E7%BC%96%E8%AF%91%E5%99%A8%E5%8F%98%E9%87%8F-vs-%E6%9E%84%E5%BB%BA%E7%B1%BB%E5%9E%8B%E5%8F%98%E9%87%8F"><span class="nav-text">æ‹“ï¼šç¼–è¯‘å™¨å˜é‡ vs æ„å»ºç±»å‹å˜é‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E9%A1%B9%E7%9B%AE%E8%B7%AF%E5%BE%84%E5%8F%98%E9%87%8F"><span class="nav-text">5.é¡¹ç›®è·¯å¾„å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%B1%87%E6%80%BB%E8%A1%A8%E6%A0%BC-4"><span class="nav-text">ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-4"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%B2%BE%E7%AE%80%E7%89%88-3"><span class="nav-text">&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E7%89%88-3"><span class="nav-text">&lt;2&gt;å®Œæ•´ç‰ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E8%BE%93%E5%87%BA%E8%B7%AF%E5%BE%84%E5%8F%98%E9%87%8F"><span class="nav-text">6.è¾“å‡ºè·¯å¾„å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%B1%87%E6%80%BB%E8%A1%A8%E6%A0%BC-5"><span class="nav-text">ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-5"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84"><span class="nav-text">7.å®‰è£…è·¯å¾„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%B1%87%E6%80%BB%E8%A1%A8%E6%A0%BC-6"><span class="nav-text">ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-6"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%B2%BE%E7%AE%80%E7%89%88-4"><span class="nav-text">&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E7%89%88-4"><span class="nav-text">&lt;2&gt;å®Œæ•´ç‰ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E6%9F%A5%E5%8C%85%E7%9B%B8%E5%85%B3%E5%8F%98%E9%87%8F"><span class="nav-text">8.æŸ¥åŒ…ç›¸å…³å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%B1%87%E6%80%BB%E8%A1%A8%E6%A0%BC-7"><span class="nav-text">ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-7"><span class="nav-text">ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%B2%BE%E7%AE%80%E7%89%88-5"><span class="nav-text">&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E7%89%88-5"><span class="nav-text">&lt;2&gt;å®Œæ•´ç‰ˆ</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="å’¸é±¼"
      src="/images/xianyu.jpg">
  <p class="site-author-name" itemprop="name">å’¸é±¼</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">40</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">55</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xianyubuxian-TXY" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;xianyubuxian-TXY" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xianyubuxian-txy.github.io/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/CMakeLists%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xianyu.jpg">
      <meta itemprop="name" content="å’¸é±¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xianyu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="CMakeListsç¬”è®° | Xianyu">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CMakeListsç¬”è®°
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2026-01-15 10:26:32" itemprop="dateCreated datePublished" datetime="2026-01-15T10:26:32+08:00">2026-01-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2026-01-18 20:48:29" itemprop="dateModified" datetime="2026-01-18T20:48:29+08:00">2026-01-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/C-%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">C++åç«¯å¼€å‘åº“</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/C-%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%BA%93/CMake/" itemprop="url" rel="index"><span itemprop="name">CMake</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/CMakeLists%E7%AC%94%E8%AE%B0/#waline" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" data-path="/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/CMakeLists%E7%AC%94%E8%AE%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>4.2k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>14 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="ä¸€ã€ä½¿ç”¨ç¤ºä¾‹"><a href="#ä¸€ã€ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä¸€ã€ä½¿ç”¨ç¤ºä¾‹"></a>ä¸€ã€ä½¿ç”¨ç¤ºä¾‹</h1><h2 id="1-é¡¶å±‚ç›®å½•ç¤ºä¾‹"><a href="#1-é¡¶å±‚ç›®å½•ç¤ºä¾‹" class="headerlink" title="1.é¡¶å±‚ç›®å½•ç¤ºä¾‹"></a>1.é¡¶å±‚ç›®å½•ç¤ºä¾‹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.16</span>)</span><br><span class="line"><span class="built_in">project</span>(UserService</span><br><span class="line">        VERSION <span class="number">1.0</span><span class="number">.0</span></span><br><span class="line">        LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)    # æŒ‡å®šä½¿ç”¨ C+<span class="number">+17</span> æ ‡å‡†</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON) #å¼ºåˆ¶è¦æ±‚ç¼–è¯‘å™¨æ”¯æŒ C+<span class="number">+17</span>ï¼Œè‹¥ç¼–è¯‘å™¨ä¸æ”¯æŒï¼Œç›´æ¥æŠ¥é”™</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_EXTENSIONS OFF) #ç¦ç”¨ç¼–è¯‘å™¨æ‰©å±•è¯­æ³•ï¼Œ ä¿è¯ä»£ç åœ¨ä¸åŒç¼–è¯‘å™¨ä¸‹è¡Œä¸ºä¸€è‡´</span><br><span class="line"></span><br><span class="line"># æ ¸å¿ƒé€»è¾‘ï¼šè‹¥ç”¨æˆ·æœªæŒ‡å®š CMAKE_BUILD_TYPEï¼ˆå¦‚ç¼–è¯‘æ—¶æœªåŠ  -DCMAKE_BUILD_TYPE=Debugï¼‰ï¼Œ</span><br><span class="line"># é»˜è®¤è®¾ç½®ä¸º Releaseï¼ˆä¼˜åŒ–ç¼–è¯‘ï¼Œå»é™¤è°ƒè¯•ä¿¡æ¯ï¼Œé€‚åˆéƒ¨ç½²ï¼‰ï¼›</span><br><span class="line"><span class="keyword">if</span>(NOT CMAKE_BUILD_TYPE)</span><br><span class="line">    <span class="built_in">set</span>(CMAKE_BUILD_TYPE Release CACHE STRING <span class="string">&quot;Choose the build type&quot;</span> FORCE)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">option</span>(BUILD_TESTS <span class="string">&quot;Build unit tests&quot;</span> ON) # æ§åˆ¶æ˜¯å¦ç¼–è¯‘å•å…ƒæµ‹è¯•ä»£ç ï¼ˆtests å­ç›®å½•ï¼‰</span><br><span class="line"># æ§åˆ¶ç”Ÿæˆ â€œåŠ¨æ€åº“ï¼ˆ.so/.dllï¼‰â€ è¿˜æ˜¯ â€œé™æ€åº“ï¼ˆ.a/.libï¼‰â€ï¼Œé»˜è®¤ OFF å³ç”Ÿæˆé™æ€åº“ï¼›</span><br><span class="line"><span class="built_in">option</span>(BUILD_SHARED_LIBS <span class="string">&quot;Build shared instead of static libs&quot;</span> OFF) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># è¾“å‡ºç›®å½•</span><br><span class="line"><span class="built_in">set</span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/bin)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_LIBRARY_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/lib)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_ARCHIVE_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/lib)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># YAML é…ç½®</span><br><span class="line"><span class="built_in">find_package</span>(yaml-cpp CONFIG REQUIRED)</span><br><span class="line"></span><br><span class="line"><span class="meta"># spdlog æ—¥å¿—</span></span><br><span class="line"><span class="built_in">find_package</span>(spdlog CONFIG REQUIRED)</span><br><span class="line"></span><br><span class="line"># MySQL</span><br><span class="line"><span class="built_in">find_package</span>(PkgConfig REQUIRED)</span><br><span class="line"><span class="built_in">pkg_check_modules</span>(MYSQL REQUIRED mysqlclient)</span><br><span class="line"></span><br><span class="line"><span class="meta"># hiredis åº“ </span></span><br><span class="line"><span class="built_in">find_path</span>(HIREDIS_HEADER hiredis)</span><br><span class="line"><span class="built_in">find_library</span>(HIREDIS_LIB hiredis)</span><br><span class="line"></span><br><span class="line"><span class="meta"># redis++ åº“ </span></span><br><span class="line"># æ³¨æ„ï¼šè¿™é‡Œæ˜¯ swï¼Œä¸æ˜¯ redis++</span><br><span class="line"><span class="built_in">find_path</span>(REDIS_PLUS_PLUS_HEADER sw)</span><br><span class="line"><span class="built_in">find_library</span>(REDIS_PLUS_PLUS_LIB redis++)</span><br><span class="line"></span><br><span class="line"><span class="built_in">add_subdirectory</span>(src)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># GTest åŒ…</span><br><span class="line"><span class="built_in">find_package</span>(GTest REQUIRED)</span><br><span class="line"><span class="keyword">if</span>(BUILD_TESTS)</span><br><span class="line">    <span class="built_in">enable_testing</span>()</span><br><span class="line">    <span class="built_in">find_package</span>(GTest CONFIG REQUIRED)</span><br><span class="line">    <span class="built_in">add_subdirectory</span>(tests)</span><br><span class="line"><span class="built_in">endif</span>()</span><br></pre></td></tr></table></figure>


<h2 id="2-å­ç›®å½•"><a href="#2-å­ç›®å½•" class="headerlink" title="2.å­ç›®å½•"></a>2.å­ç›®å½•</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="line"><span class="built_in">add_executable</span>(config_test config_test.cpp)</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„â€œå¤´æ–‡ä»¶ç›®å½•â€</span><br><span class="line"><span class="built_in">target_include_directories</span>(config_test PUBLIC </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/src</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># æŒ‡ä»¤å¯æ‰§è¡Œæ–‡ä»¶çš„â€œåº“æ–‡ä»¶ç›®å½•â€</span><br><span class="line"><span class="built_in">target_link_directories</span>(config_test PUBLIC</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/lib</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># è®©å¯æ‰§è¡Œæ–‡ä»¶é“¾æ¥åº“</span><br><span class="line"><span class="built_in">target_link_libraries</span>(config_test PRIVATE</span><br><span class="line">    user_config</span><br><span class="line">    GTest::GTest</span><br><span class="line">    GTest::Main</span><br><span class="line">    pthread</span><br><span class="line">    yaml-cpp  # Config æ¨¡å—éœ€è¦ yaml-cpp åº“</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># è®¾ç½®å¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºè·¯å¾„</span><br><span class="line"># set_target_propertiesï¼šCMake å†…ç½®å‘½ä»¤ï¼Œç”¨äºè®¾ç½®ç›®æ ‡ï¼ˆtargetï¼‰çš„å±æ€§</span><br><span class="line"># config_testï¼šç›®æ ‡åç§°</span><br><span class="line"># PROPERTIESï¼šå…³é”®å­—ï¼Œè¡¨ç¤ºåé¢æ˜¯è¦è®¾ç½®çš„å±æ€§åŠå…¶å€¼</span><br><span class="line"># RUNTIME_OUTPUT_DIRECTORYï¼šç›®æ ‡å±æ€§å</span><br><span class="line"># $&#123;CMAKE_RUNTIME_OUTPUT_DIRECTORY&#125;/testsï¼šå±æ€§å€¼ï¼ˆè·¯å¾„ï¼‰</span><br><span class="line"><span class="built_in">set_target_properties</span>(config_test PROPERTIES</span><br><span class="line">    RUNTIME_OUTPUT_DIRECTORY $&#123;CMAKE_RUNTIME_OUTPUT_DIRECTORY&#125;/tests</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>PUBLIC å…³é”®å­—</strong>:<ul>
<li><strong>ä½œç”¨</strong>ï¼šæŒ‡å®šäº†åŒ…å«ç›®å½•çš„å¯è§æ€§èŒƒå›´<ul>
<li>ç¼–è¯‘ config_test ç›®æ ‡æœ¬èº«æ—¶ä¼šä½¿ç”¨è¿™äº›åŒ…å«ç›®å½•</li>
<li>ä»»ä½•é“¾æ¥åˆ° config_test çš„å…¶ä»–ç›®æ ‡ä¹Ÿä¼šç»§æ‰¿è¿™äº›åŒ…å«ç›®å½•</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260115103707646.png"></p>
<h1 id="äºŒã€CMake-å˜é‡è®¾ç½®é¡ºåºè§„èŒƒ"><a href="#äºŒã€CMake-å˜é‡è®¾ç½®é¡ºåºè§„èŒƒ" class="headerlink" title="äºŒã€CMake å˜é‡è®¾ç½®é¡ºåºè§„èŒƒ"></a>äºŒã€CMake å˜é‡è®¾ç½®é¡ºåºè§„èŒƒ</h1><h2 id="ï¼ˆ1ï¼‰å®Œæ•´æ¦‚è§ˆ"><a href="#ï¼ˆ1ï¼‰å®Œæ•´æ¦‚è§ˆ" class="headerlink" title="ï¼ˆ1ï¼‰å®Œæ•´æ¦‚è§ˆ"></a>ï¼ˆ1ï¼‰å®Œæ•´æ¦‚è§ˆ</h2><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118163502364.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘                     <span class="number">1</span>ï¸âƒ£ é¡¹ç›®ä¿¡æ¯å˜é‡                               â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ğŸ“Œ ä¸ºä»€ä¹ˆæœ€å…ˆï¼Ÿ<span class="built_in">project</span>() å®šä¹‰ PROJECT_NAMEã€PROJECT_SOURCE_DIR ç­‰åŸºç¡€å˜é‡</span><br><span class="line"># ğŸ“Œ åç»­æ‰€æœ‰é…ç½®éƒ½ä¾èµ–è¿™äº›å˜é‡</span><br><span class="line"></span><br><span class="line"><span class="built_in">project</span>(MyApp</span><br><span class="line">    VERSION <span class="number">1.2</span><span class="number">.3</span>                              # â†’ PROJECT_VERSION, PROJECT_VERSION_MAJOR/MINOR/PATCH</span><br><span class="line">    DESCRIPTION <span class="string">&quot;ä¼ä¸šçº§åº”ç”¨ç¨‹åº&quot;</span>                 # â†’ PROJECT_DESCRIPTION</span><br><span class="line">    HOMEPAGE_URL <span class="string">&quot;https://github.com/xxx&quot;</span>      # â†’ PROJECT_HOMEPAGE_URL</span><br><span class="line">    LANGUAGES CXX                              # å¯ç”¨ C++ ç¼–è¯‘å™¨æ£€æµ‹</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘                     <span class="number">2</span>ï¸âƒ£ å¹³å°ä¸ç³»ç»Ÿå˜é‡                   â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ğŸ“Œ ä¸ºä»€ä¹ˆæ’ç¬¬äºŒï¼Ÿå¹³å°å†³å®šï¼šç¼–è¯‘å™¨é€‰é¡¹ã€è·¯å¾„æ ¼å¼ã€ä¾èµ–ä½ç½®</span><br><span class="line"># ğŸ“Œ WIN32/APPLE/UNIX æ˜¯ CMake å†…ç½®å˜é‡ï¼Œ<span class="built_in">project</span>() åè‡ªåŠ¨å¯ç”¨</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(WIN32)                                      # Windowsï¼ˆåŒ…æ‹¬<span class="number">64</span>ä½ï¼‰</span><br><span class="line">    <span class="built_in">set</span>(PLATFORM_NAME <span class="string">&quot;windows&quot;</span>)</span><br><span class="line"><span class="built_in">elseif</span>(APPLE)                                  # macOSã€<span class="function">iOS</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(PLATFORM_NAME <span class="string">&quot;macos&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">elseif</span><span class="params">(UNIX)</span>                                   # Linuxã€BSD ç­‰</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(PLATFORM_NAME <span class="string">&quot;linux&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># æ¶æ„æ£€æµ‹</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(CMAKE_SIZEOF_VOID_P EQUAL <span class="number">8</span>)</span>                # æŒ‡é’ˆå¤§å°åˆ¤æ–­æ¶æ„</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(ARCH_NAME <span class="string">&quot;x64&quot;</span>)</span>                       # 8å­—èŠ‚ </span>= <span class="number">64</span>ä½</span><br><span class="line"><span class="keyword">else</span>()</span><br><span class="line">    <span class="built_in">set</span>(ARCH_NAME <span class="string">&quot;x86&quot;</span>)                       # <span class="number">4</span>å­—èŠ‚ = <span class="number">32</span>ä½</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;å¹³å°: $&#123;CMAKE_SYSTEM_NAME&#125; ($&#123;PLATFORM_NAME&#125;)&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;æ¶æ„: $&#123;CMAKE_SYSTEM_PROCESSOR&#125; ($&#123;ARCH_NAME&#125;)&quot;</span>)</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘                     <span class="number">3</span>ï¸âƒ£ ç¼–è¯‘å™¨ä¸å·¥å…·é“¾å˜é‡                          â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ğŸ“Œ ä¸ºä»€ä¹ˆæ’è¿™é‡Œï¼Ÿä¾èµ–å¹³å°æ£€æµ‹ç»“æœï¼ˆMSVC vs GCC é€‰é¡¹ä¸åŒï¼‰</span><br><span class="line"># ğŸ“Œ å¿…é¡»åœ¨ add_executable/add_library ä¹‹å‰è®¾ç½®ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆï¼</span><br><span class="line"></span><br><span class="line"># C++ æ ‡å‡†</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)                     # ä½¿ç”¨ C+<span class="number">+17</span></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)            # å¼ºåˆ¶è¦æ±‚ï¼Œä¸æ»¡è¶³åˆ™æŠ¥é”™</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_EXTENSIONS OFF)                  # ç¦ç”¨ç¼–è¯‘å™¨æ‰©å±•ï¼ˆå¦‚ GNU+<span class="number">+17</span>ï¼‰</span><br><span class="line"></span><br><span class="line"># ç¼–è¯‘å™¨é€‰é¡¹</span><br><span class="line"><span class="built_in">set</span>(CMAKE_EXPORT_COMPILE_COMMANDS ON)          # ç”Ÿæˆ compile_commands.jsonï¼ˆIDE/LSP ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line"># å¹³å°ç›¸å…³ç¼–è¯‘é€‰é¡¹</span><br><span class="line"><span class="keyword">if</span>(MSVC)                                       # Visual Studio ç¼–è¯‘å™¨</span><br><span class="line">    <span class="built_in">add_compile_options</span>(/W4 /utf<span class="number">-8</span>)            # è­¦å‘Šçº§åˆ«<span class="number">4</span> + UTF<span class="number">-8</span>æºç </span><br><span class="line"><span class="built_in">else</span>()                                         # GCC / Clang</span><br><span class="line">    <span class="built_in">add_compile_options</span>(-Wall -Wextra -Wpedantic)  # å¼€å¯å¸¸ç”¨è­¦å‘Š</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘                     <span class="number">4</span>ï¸âƒ£ æ„å»ºç±»å‹å˜é‡                                â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ğŸ“Œ ä¸ºä»€ä¹ˆæ’è¿™é‡Œï¼Ÿå½±å“ç¼–è¯‘é€‰é¡¹(-O0/-O3)å’Œè¾“å‡ºè·¯å¾„(Debug/Releaseå­ç›®å½•)</span><br><span class="line"># ğŸ“Œ ä»…å¯¹å•é…ç½®ç”Ÿæˆå™¨ç”Ÿæ•ˆï¼ˆMakefile/Ninjaï¼‰ï¼ŒVS/Xcode å¿½ç•¥æ­¤å˜é‡</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># é»˜è®¤æ„å»ºç±»å‹</span><br><span class="line"><span class="keyword">if</span>(NOT CMAKE_BUILD_TYPE)</span><br><span class="line">    <span class="built_in">set</span>(CMAKE_BUILD_TYPE <span class="string">&quot;Release&quot;</span> CACHE STRING <span class="string">&quot;æ„å»ºç±»å‹&quot;</span> FORCE)    # æœªæŒ‡å®šæ—¶é»˜è®¤ Release</span><br><span class="line"></span><br><span class="line">    <span class="built_in">set_property</span>(CACHE CMAKE_BUILD_TYPE PROPERTY STRINGS        # åœ¨ cmake-gui ä¸­æä¾›ä¸‹æ‹‰é€‰é¡¹</span><br><span class="line">        <span class="string">&quot;Debug&quot;</span> <span class="string">&quot;Release&quot;</span> <span class="string">&quot;MinSizeRel&quot;</span> <span class="string">&quot;RelWithDebInfo&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;æ„å»ºç±»å‹: $&#123;CMAKE_BUILD_TYPE&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"># è‡ªå®šä¹‰å„æ„å»ºç±»å‹çš„ç¼–è¯‘é€‰é¡¹ï¼ˆè¦†ç›–é»˜è®¤å€¼ï¼‰</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_FLAGS_DEBUG <span class="string">&quot;-g -O0 -DDEBUG&quot;</span>)    # è°ƒè¯•ï¼šæ— ä¼˜åŒ–+è°ƒè¯•ç¬¦å·</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_FLAGS_RELEASE <span class="string">&quot;-O3 -DNDEBUG&quot;</span>)    # å‘å¸ƒï¼šæœ€é«˜ä¼˜åŒ–+ç¦ç”¨assert</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘                     <span class="number">5</span>ï¸âƒ£ é¡¹ç›®è·¯å¾„å˜é‡                                â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ğŸ“Œ ä¸ºä»€ä¹ˆæ’è¿™é‡Œï¼Ÿä¾èµ– PROJECT_SOURCE_DIRï¼ˆç”± <span class="built_in">project</span>() å®šä¹‰ï¼‰</span><br><span class="line"># ğŸ“Œ ç»Ÿä¸€ç®¡ç†è·¯å¾„ï¼Œé¿å…ç¡¬ç¼–ç ï¼Œæ–¹ä¾¿åç»­å¼•ç”¨</span><br><span class="line"></span><br><span class="line"># è‡ªå®šä¹‰ç›®å½•ç»“æ„</span><br><span class="line"><span class="built_in">set</span>(PROJECT_ROOT_DIR     $&#123;PROJECT_SOURCE_DIR&#125;)            # é¡¹ç›®æ ¹ç›®å½•</span><br><span class="line"><span class="built_in">set</span>(PROJECT_SRC_DIR      $&#123;PROJECT_SOURCE_DIR&#125;/src)        # æºç ç›®å½•</span><br><span class="line"><span class="built_in">set</span>(PROJECT_INCLUDE_DIR  $&#123;PROJECT_SOURCE_DIR&#125;/include)    # å¤´æ–‡ä»¶ç›®å½•</span><br><span class="line"><span class="built_in">set</span>(PROJECT_LIB_DIR      $&#123;PROJECT_SOURCE_DIR&#125;/lib)        # é¢„ç¼–è¯‘åº“ç›®å½•</span><br><span class="line"><span class="built_in">set</span>(PROJECT_TEST_DIR     $&#123;PROJECT_SOURCE_DIR&#125;/tests)      # æµ‹è¯•ç›®å½•</span><br><span class="line"><span class="built_in">set</span>(PROJECT_DOC_DIR      $&#123;PROJECT_SOURCE_DIR&#125;/docs)       # æ–‡æ¡£ç›®å½•</span><br><span class="line"><span class="built_in">set</span>(PROJECT_CMAKE_DIR    $&#123;PROJECT_SOURCE_DIR&#125;/cmake)      # CMake æ¨¡å—ç›®å½•</span><br><span class="line"><span class="built_in">set</span>(PROJECT_THIRD_PARTY  $&#123;PROJECT_SOURCE_DIR&#125;/third_party) # ç¬¬ä¸‰æ–¹åº“ç›®å½•</span><br><span class="line"></span><br><span class="line"># æ·»åŠ è‡ªå®šä¹‰æ¨¡å—æœç´¢è·¯å¾„ï¼ˆç”¨äº <span class="built_in">include</span>() å’Œ <span class="built_in">find_package</span>()ï¼‰</span><br><span class="line"><span class="built_in">list</span>(APPEND CMAKE_MODULE_PATH <span class="string">&quot;$&#123;PROJECT_CMAKE_DIR&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘                     <span class="number">6</span>ï¸âƒ£ è¾“å‡ºè·¯å¾„å˜é‡                                â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ğŸ“Œ ä¸ºä»€ä¹ˆæ’è¿™é‡Œï¼Ÿä¾èµ– PLATFORM_NAMEã€ARCH_NAMEï¼ˆç¬¬<span class="number">2</span>æ­¥ï¼‰å’Œ PROJECT_BINARY_DIR</span><br><span class="line"># ğŸ“Œ ç»Ÿä¸€è¾“å‡ºç»“æ„ï¼šbuild/output/linux/x64/bin/</span><br><span class="line"></span><br><span class="line"># ç»Ÿä¸€è¾“å‡ºç›®å½•ï¼ˆæŒ‰å¹³å°/æ¶æ„/æ„å»ºç±»å‹ç»„ç»‡ï¼‰</span><br><span class="line"><span class="built_in">set</span>(OUTPUT_BASE_DIR $&#123;PROJECT_BINARY_DIR&#125;/output/$&#123;PLATFORM_NAME&#125;/$&#123;ARCH_NAME&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY $&#123;OUTPUT_BASE_DIR&#125;/bin)      # å¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="line"><span class="built_in">set</span>(CMAKE_LIBRARY_OUTPUT_DIRECTORY $&#123;OUTPUT_BASE_DIR&#125;/lib)      # åŠ¨æ€åº“</span><br><span class="line"><span class="built_in">set</span>(CMAKE_ARCHIVE_OUTPUT_DIRECTORY $&#123;OUTPUT_BASE_DIR&#125;/lib)      # é™æ€åº“</span><br><span class="line"></span><br><span class="line"># å¤šé…ç½®ç”Ÿæˆå™¨ï¼ˆVS/Xcodeï¼‰éœ€è¦å•ç‹¬è®¾ç½®æ¯ç§é…ç½®çš„è¾“å‡ºè·¯å¾„</span><br><span class="line">foreach(CONFIG_TYPE $&#123;CMAKE_CONFIGURATION_TYPES&#125;)           # Debug;Release;...</span><br><span class="line">    <span class="built_in">string</span>(TOUPPER $&#123;CONFIG_TYPE&#125; CONFIG_TYPE_UPPER)        # DEBUG/<span class="function">RELEASE</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(CMAKE_RUNTIME_OUTPUT_DIRECTORY_$&#123;CONFIG_TYPE_UPPER&#125; $&#123;OUTPUT_BASE_DIR&#125;/$&#123;CONFIG_TYPE&#125;/bin)</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(CMAKE_LIBRARY_OUTPUT_DIRECTORY_$&#123;CONFIG_TYPE_UPPER&#125; $&#123;OUTPUT_BASE_DIR&#125;/$&#123;CONFIG_TYPE&#125;/lib)</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_$&#123;CONFIG_TYPE_UPPER&#125; $&#123;OUTPUT_BASE_DIR&#125;/$&#123;CONFIG_TYPE&#125;/lib)</span></span></span><br><span class="line"><span class="function"><span class="title">endforeach</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘                     7ï¸âƒ£ å®‰è£…è·¯å¾„å˜é‡                                â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># ğŸ“Œ ä¸ºä»€ä¹ˆæ’è¿™é‡Œï¼Ÿ<span class="title">install</span><span class="params">()</span> å‘½ä»¤ä¾èµ–è¿™äº›è·¯å¾„</span></span><br><span class="line"><span class="function"># ğŸ“Œ GNUInstallDirs æä¾›è·¨å¹³å°æ ‡å‡†ç›®å½•ï¼ˆbin/lib/includeï¼‰</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># å®‰è£…å‰ç¼€</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)</span></span></span><br><span class="line"><span class="function">    # é»˜è®¤å®‰è£…åˆ°æ„å»ºç›®å½•ä¸‹çš„ install/ï¼Œè€Œéç³»ç»Ÿç›®å½•</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(CMAKE_INSTALL_PREFIX <span class="string">&quot;$&#123;PROJECT_BINARY_DIR&#125;/install&quot;</span> CACHE PATH <span class="string">&quot;å®‰è£…è·¯å¾„&quot;</span> FORCE)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># GNUInstallDirs æ ‡å‡†ç›®å½•</span></span><br><span class="line"><span class="function"><span class="title">include</span><span class="params">(GNUInstallDirs)</span>  # å®šä¹‰ <span class="title">CMAKE_INSTALL_BINDIR</span> <span class="params">(bin)</span></span></span><br><span class="line"><span class="function">                         #      <span class="title">CMAKE_INSTALL_LIBDIR</span> <span class="params">(lib/lib64)</span></span></span><br><span class="line"><span class="function">                         #      <span class="title">CMAKE_INSTALL_INCLUDEDIR</span> <span class="params">(include)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;å®‰è£…è·¯å¾„: $&#123;CMAKE_INSTALL_PREFIX&#125;&quot;</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘                     8ï¸âƒ£ æŸ¥æ‰¾åŒ…ç›¸å…³å˜é‡                              â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># ğŸ“Œ ä¸ºä»€ä¹ˆæ’è¿™é‡Œï¼Ÿ<span class="title">find_package</span><span class="params">()</span> ä¾èµ– CMAKE_PREFIX_PATH æœç´¢è·¯å¾„</span></span><br><span class="line"><span class="function"># ğŸ“Œ å¿…é¡»åœ¨ <span class="title">target_link_libraries</span><span class="params">()</span> ä¹‹å‰æ‰¾åˆ°ä¾èµ–</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># ç¬¬ä¸‰æ–¹åº“æœç´¢è·¯å¾„</span></span><br><span class="line"><span class="function"><span class="title">set</span><span class="params">(CMAKE_PREFIX_PATH</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="string">&quot;$&#123;PROJECT_THIRD_PARTY&#125;&quot;</span>      # é¡¹ç›®å†…ç¬¬ä¸‰æ–¹åº“</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="string">&quot;/opt/Qt6&quot;</span>                    # ç³»ç»Ÿå®‰è£…çš„ Qt</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="string">&quot;$ENV&#123;HOME&#125;/libs&quot;</span>             # ç”¨æˆ·è‡ªå®šä¹‰åº“ç›®å½•</span></span></span><br><span class="line"><span class="params"><span class="function">    $&#123;CMAKE_PREFIX_PATH&#125;          # ä¿ç•™å·²æœ‰è·¯å¾„</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># æŸ¥æ‰¾å¿…éœ€ä¾èµ–</span></span><br><span class="line"><span class="function"><span class="title">find_package</span><span class="params">(Qt6 COMPONENTS Core Widgets REQUIRED)</span>  # REQUIRED </span>= æ‰¾ä¸åˆ°åˆ™æŠ¥é”™ç»ˆæ­¢</span><br><span class="line"><span class="built_in">find_package</span>(OpenSSL REQUIRED)</span><br><span class="line"><span class="built_in">find_package</span>(Threads REQUIRED)</span><br><span class="line"></span><br><span class="line"># æŸ¥æ‰¾å¯é€‰ä¾èµ–</span><br><span class="line"><span class="built_in">find_package</span>(ZLIB QUIET)    # QUIET = æ‰¾ä¸åˆ°ä¸æŠ¥é”™ï¼Œé€šè¿‡å˜é‡åˆ¤æ–­</span><br><span class="line"><span class="built_in">find_package</span>(Doxygen QUIET)</span><br><span class="line"></span><br><span class="line"># æ‰“å°ä¾èµ–çŠ¶æ€</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;========== ä¾èµ–çŠ¶æ€ ==========&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;Qt6:     $&#123;Qt6_FOUND&#125; ($&#123;Qt6_VERSION&#125;)&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;OpenSSL: $&#123;OPENSSL_FOUND&#125; ($&#123;OPENSSL_VERSION&#125;)&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;ZLIB:    $&#123;ZLIB_FOUND&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;==============================&quot;</span>)</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘                     <span class="number">9</span>ï¸âƒ£ é¡¹ç›®é€‰é¡¹ï¼ˆå¯é€‰åŠŸèƒ½å¼€å…³ï¼‰                     â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ğŸ“Œ ä¸ºä»€ä¹ˆæ’è¿™é‡Œï¼Ÿç”¨æˆ·å¯é€šè¿‡ -D è¦†ç›–é»˜è®¤å€¼ï¼Œæ”¾åœ¨ç›®æ ‡å®šä¹‰å‰å¯æ§åˆ¶æ¡ä»¶ç¼–è¯‘</span><br><span class="line"># ğŸ“Œ <span class="built_in">option</span>() å®šä¹‰ BOOL ç±»å‹ç¼“å­˜å˜é‡</span><br><span class="line"></span><br><span class="line"><span class="built_in">option</span>(BUILD_SHARED_LIBS <span class="string">&quot;æ„å»ºåŠ¨æ€åº“&quot;</span> ON)       # ON=åŠ¨æ€åº“, OFF=é™æ€åº“</span><br><span class="line"><span class="built_in">option</span>(BUILD_TESTS       <span class="string">&quot;æ„å»ºæµ‹è¯•&quot;</span>   ON)       # æ§åˆ¶æ˜¯å¦ç¼–è¯‘æµ‹è¯•</span><br><span class="line"><span class="built_in">option</span>(BUILD_DOCS        <span class="string">&quot;æ„å»ºæ–‡æ¡£&quot;</span>   OFF)      # æ§åˆ¶æ˜¯å¦ç”Ÿæˆæ–‡æ¡£</span><br><span class="line"><span class="built_in">option</span>(ENABLE_COVERAGE   <span class="string">&quot;å¯ç”¨è¦†ç›–ç‡&quot;</span> OFF)      # æ§åˆ¶è¦†ç›–ç‡ç¼–è¯‘é€‰é¡¹</span><br><span class="line"></span><br><span class="line"># ä½¿ç”¨ï¼šcmake -DBUILD_TESTS=OFF ..</span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘                     ğŸ”Ÿ å­ç›®å½•ä¸ç›®æ ‡å®šä¹‰                           â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ğŸ“Œ ä¸ºä»€ä¹ˆæ”¾æœ€åï¼Ÿæ‰€æœ‰é…ç½®å°±ç»ªï¼Œç›®æ ‡å¯æ­£ç¡®ç»§æ‰¿ç¼–è¯‘é€‰é¡¹ã€é“¾æ¥ä¾èµ–</span><br><span class="line"></span><br><span class="line"><span class="built_in">add_subdirectory</span>(src)            # ä¸»ç¨‹åº/åº“</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(BUILD_TESTS)                  # æ¡ä»¶ç¼–è¯‘æµ‹è¯•</span><br><span class="line">    <span class="built_in">enable_testing</span>()             # å¯ç”¨ CTest</span><br><span class="line">    <span class="built_in">add_subdirectory</span>(tests)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(BUILD_DOCS AND Doxygen_FOUND) # æ¡ä»¶ç”Ÿæˆæ–‡æ¡£</span><br><span class="line">    <span class="built_in">add_subdirectory</span>(docs)</span><br><span class="line"><span class="built_in">endif</span>()</span><br></pre></td></tr></table></figure>

<h2 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç²¾ç®€ç‰ˆ"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç²¾ç®€ç‰ˆ" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç²¾ç®€ç‰ˆ"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç²¾ç®€ç‰ˆ</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘  <span class="number">1</span>ï¸âƒ£ é¡¹ç›®ä¿¡æ¯                                                     â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"><span class="built_in">project</span>(MyApp VERSION <span class="number">1.0</span><span class="number">.0</span> LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘  <span class="number">2</span>ï¸âƒ£ ç¼–è¯‘å™¨è®¾ç½®                                                   â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)              # C+<span class="number">+17</span> æ ‡å‡†</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)     # å¼ºåˆ¶è¦æ±‚</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_EXTENSIONS OFF)           # ç¦ç”¨æ‰©å±•</span><br><span class="line"><span class="built_in">set</span>(CMAKE_EXPORT_COMPILE_COMMANDS ON)   # ç”Ÿæˆ compile_commands.json</span><br><span class="line"></span><br><span class="line"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span><br><span class="line"># â•‘  <span class="number">3</span>ï¸âƒ£ æ„å»ºç±»å‹                                                     â•‘</span><br><span class="line"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"><span class="keyword">if</span>(NOT CMAKE_BUILD_TYPE)</span><br><span class="line">   <span class="built_in">set</span>(CMAKE_BUILD_TYPE Release CACHE STRING <span class="string">&quot;&quot;</span> FORCE)  # é»˜è®¤ <span class="function">Release</span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘  4ï¸âƒ£ è·¯å¾„å®šä¹‰                                                     â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">set</span><span class="params">(PROJECT_INCLUDE_DIR $&#123;PROJECT_SOURCE_DIR&#125;/include)</span>   # å¤´æ–‡ä»¶ç›®å½•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘  5ï¸âƒ£ è¾“å‡ºè·¯å¾„                                                     â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">set</span><span class="params">(CMAKE_RUNTIME_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/bin)</span>  # å¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="title">set</span><span class="params">(CMAKE_LIBRARY_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/lib)</span>  # åŠ¨æ€åº“</span></span><br><span class="line"><span class="function"><span class="title">set</span><span class="params">(CMAKE_ARCHIVE_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/lib)</span>  # é™æ€åº“</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘  6ï¸âƒ£ å®‰è£…è·¯å¾„                                                     â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">include</span><span class="params">(GNUInstallDirs)</span>  # æä¾› CMAKE_INSTALL_BINDIR ç­‰æ ‡å‡†ç›®å½•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘  7ï¸âƒ£ æŸ¥æ‰¾ä¾èµ–                                                     â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># <span class="title">find_package</span><span class="params">(spdlog CONFIG REQUIRED)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘  8ï¸âƒ£ é¡¹ç›®é€‰é¡¹                                                     â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">option</span><span class="params">(BUILD_TESTS <span class="string">&quot;æ„å»ºæµ‹è¯•&quot;</span> ON)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘  9ï¸âƒ£ ç›®æ ‡å®šä¹‰                                                     â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">add_subdirectory</span><span class="params">(src)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(BUILD_TESTS)</span></span></span><br><span class="line"><span class="function">   <span class="title">enable_testing</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   <span class="title">add_subdirectory</span><span class="params">(tests)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</span></span><br><span class="line"><span class="function"># â•‘  ğŸ”Ÿ å®‰è£…è§„åˆ™                                                      â•‘</span></span><br><span class="line"><span class="function"># â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">install</span><span class="params">(TARGETS $&#123;PROJECT_NAME&#125;</span></span></span><br><span class="line"><span class="params"><span class="function">   RUNTIME DESTINATION $&#123;CMAKE_INSTALL_BINDIR&#125;   # bin/</span></span></span><br><span class="line"><span class="params"><span class="function">   LIBRARY DESTINATION $&#123;CMAKE_INSTALL_LIBDIR&#125;   # lib/</span></span></span><br><span class="line"><span class="params"><span class="function">   ARCHIVE DESTINATION $&#123;CMAKE_INSTALL_LIBDIR&#125;</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"><span class="title">install</span><span class="params">(DIRECTORY $&#123;PROJECT_INCLUDE_DIR&#125;/ DESTINATION $&#123;CMAKE_INSTALL_INCLUDEDIR&#125;)</span></span></span><br></pre></td></tr></table></figure>
<p><strong>æ„å»ºå‘½ä»¤</strong>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmake -S . -B build                 # é…ç½®</span><br><span class="line">cmake --build build                 # ç¼–è¯‘</span><br><span class="line">cmake --install build               # å®‰è£…</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€å¸¸ç”¨å˜é‡"><a href="#ä¸‰ã€å¸¸ç”¨å˜é‡" class="headerlink" title="ä¸‰ã€å¸¸ç”¨å˜é‡"></a>ä¸‰ã€å¸¸ç”¨å˜é‡</h1><h2 id="1-é¡¹ç›®ä¿¡æ¯å˜é‡"><a href="#1-é¡¹ç›®ä¿¡æ¯å˜é‡" class="headerlink" title="1.é¡¹ç›®ä¿¡æ¯å˜é‡"></a>1.é¡¹ç›®ä¿¡æ¯å˜é‡</h2><h3 id="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"><a href="#ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼" class="headerlink" title="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"></a>ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</h3><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118160323210.png"></p>
<h3 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</h3><h4 id="å¸¸ç”¨ç²¾ç®€ç‰ˆ"><a href="#å¸¸ç”¨ç²¾ç®€ç‰ˆ" class="headerlink" title="&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ"></a>&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"><span class="built_in">project</span>(MyApp </span><br><span class="line">    VERSION <span class="number">1.2</span><span class="number">.3</span></span><br><span class="line">    LANGUAGES CXX</span><br><span class="line">)</span><br><span class="line"># æ‰“å°é¡¹ç›®ä¿¡æ¯</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;é¡¹ç›®: $&#123;PROJECT_NAME&#125; v$&#123;PROJECT_VERSION&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line">#                       ......</span><br><span class="line"></span><br><span class="line"><span class="built_in">add_executable</span>($&#123;PROJECT_NAME&#125; main.cpp)</span><br></pre></td></tr></table></figure>

<h4 id="å®Œæ•´ç‰ˆ"><a href="#å®Œæ•´ç‰ˆ" class="headerlink" title="&lt;2&gt;å®Œæ•´ç‰ˆ"></a>&lt;2&gt;å®Œæ•´ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"></span><br><span class="line"># ==================== é¡¹ç›®å®šä¹‰ ====================</span><br><span class="line"><span class="built_in">project</span>(MyApp</span><br><span class="line">    VERSION <span class="number">1.2</span><span class="number">.3</span><span class="number">.4</span>                           # å®Œæ•´ç‰ˆæœ¬å·ï¼ˆMAJOR.MINOR.PATCH.TWEAKï¼‰</span><br><span class="line">    DESCRIPTION <span class="string">&quot;ä¸€ä¸ªç¤ºä¾‹åº”ç”¨ç¨‹åº&quot;</span>              # é¡¹ç›®æè¿°</span><br><span class="line">    HOMEPAGE_URL <span class="string">&quot;https://github.com/user/myapp&quot;</span>  # é¡¹ç›®ä¸»é¡µ</span><br><span class="line">    LANGUAGES CXX                              # ä½¿ç”¨çš„è¯­è¨€</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">#                       ......</span><br><span class="line"></span><br><span class="line"># ==================== æ‰“å°é¡¹ç›®ä¿¡æ¯ ====================</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;========== é¡¹ç›®ä¿¡æ¯ ==========&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;åç§°:     $&#123;PROJECT_NAME&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;ç‰ˆæœ¬:     $&#123;PROJECT_VERSION&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;  ä¸»ç‰ˆæœ¬: $&#123;PROJECT_VERSION_MAJOR&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;  æ¬¡ç‰ˆæœ¬: $&#123;PROJECT_VERSION_MINOR&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;  è¡¥ä¸:   $&#123;PROJECT_VERSION_PATCH&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;  å¾®è°ƒ:   $&#123;PROJECT_VERSION_TWEAK&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;æè¿°:     $&#123;PROJECT_DESCRIPTION&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;ä¸»é¡µ:     $&#123;PROJECT_HOMEPAGE_URL&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;==============================&quot;</span>)</span><br><span class="line"></span><br><span class="line">#                       ......</span><br><span class="line"></span><br><span class="line"># ==================== åˆ›å»ºç›®æ ‡ ====================</span><br><span class="line"><span class="built_in">add_executable</span>($&#123;PROJECT_NAME&#125; main.cpp)</span><br><span class="line"></span><br><span class="line"># æ·»åŠ ç”Ÿæˆç›®å½•åˆ°å¤´æ–‡ä»¶æœç´¢è·¯å¾„</span><br><span class="line"><span class="built_in">target_include_directories</span>($&#123;PROJECT_NAME&#125; PRIVATE $&#123;PROJECT_BINARY_DIR&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>é…å¥—æ¨¡æ¿æ–‡ä»¶ config.h.in</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> CONFIG_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CONFIG_H</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡¹ç›®ä¿¡æ¯ï¼ˆç”± CMake è‡ªåŠ¨ç”Ÿæˆï¼‰</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROJECT_NAME <span class="string">&quot;@PROJECT_NAME@&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROJECT_VERSION <span class="string">&quot;@PROJECT_VERSION@&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROJECT_VERSION_MAJOR @PROJECT_VERSION_MAJOR@</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROJECT_VERSION_MINOR @PROJECT_VERSION_MINOR@</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROJECT_VERSION_PATCH @PROJECT_VERSION_PATCH@</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROJECT_DESCRIPTION <span class="string">&quot;@PROJECT_DESCRIPTION@&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROJECT_HOMEPAGE_URL <span class="string">&quot;@PROJECT_HOMEPAGE_URL@&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// CONFIG_H</span></span></span><br></pre></td></tr></table></figure>
<p><strong>é…å¥— main.cpp</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;config.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; PROJECT_NAME &lt;&lt; <span class="string">&quot; v&quot;</span> &lt;&lt; PROJECT_VERSION &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;æè¿°: &quot;</span> &lt;&lt; PROJECT_DESCRIPTION &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;ä¸»é¡µ: &quot;</span> &lt;&lt; PROJECT_HOMEPAGE_URL &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-å¹³å°ä¸ç³»ç»Ÿå˜é‡"><a href="#2-å¹³å°ä¸ç³»ç»Ÿå˜é‡" class="headerlink" title="2.å¹³å°ä¸ç³»ç»Ÿå˜é‡"></a>2.å¹³å°ä¸ç³»ç»Ÿå˜é‡</h2><h3 id="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-1"><a href="#ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-1" class="headerlink" title="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"></a>ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</h3><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118164449876.png"></p>
<h3 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-1"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-1" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</h3><h4 id="å¸¸ç”¨ç²¾ç®€ç‰ˆ-1"><a href="#å¸¸ç”¨ç²¾ç®€ç‰ˆ-1" class="headerlink" title="&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ"></a>&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#                       ......</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(WIN32)                                      # Windowsï¼ˆåŒ…æ‹¬<span class="number">64</span>ä½ï¼‰</span><br><span class="line">    <span class="built_in">set</span>(PLATFORM_NAME <span class="string">&quot;windows&quot;</span>)</span><br><span class="line"><span class="built_in">elseif</span>(APPLE)                                  # macOSã€<span class="function">iOS</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(PLATFORM_NAME <span class="string">&quot;macos&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">elseif</span><span class="params">(UNIX)</span>                                   # Linuxã€BSD ç­‰</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(PLATFORM_NAME <span class="string">&quot;linux&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># æ¶æ„æ£€æµ‹</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(CMAKE_SIZEOF_VOID_P EQUAL <span class="number">8</span>)</span>                # æŒ‡é’ˆå¤§å°åˆ¤æ–­æ¶æ„</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(ARCH_NAME <span class="string">&quot;x64&quot;</span>)</span>                       # 8å­—èŠ‚ </span>= <span class="number">64</span>ä½</span><br><span class="line"><span class="keyword">else</span>()</span><br><span class="line">    <span class="built_in">set</span>(ARCH_NAME <span class="string">&quot;x86&quot;</span>)                       # <span class="number">4</span>å­—èŠ‚ = <span class="number">32</span>ä½</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;å¹³å°: $&#123;CMAKE_SYSTEM_NAME&#125; ($&#123;PLATFORM_NAME&#125;)&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;æ¶æ„: $&#123;CMAKE_SYSTEM_PROCESSOR&#125; ($&#123;ARCH_NAME&#125;)&quot;</span>)</span><br><span class="line"></span><br><span class="line">#                       ......</span><br></pre></td></tr></table></figure>
<p><strong>å·²ç»ç”¨â€œCMAKE_SYSTEM_NAMEå˜é‡â€äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è‡ªå®šä¹‰â€œPLATFORM_NAMEâ€ï¼Ÿ</strong><br><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118164758165.png"></p>
<h4 id="å®Œæ•´ç‰ˆ-1"><a href="#å®Œæ•´ç‰ˆ-1" class="headerlink" title="&lt;2&gt;å®Œæ•´ç‰ˆ"></a>&lt;2&gt;å®Œæ•´ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">#                       ......</span><br><span class="line"></span><br><span class="line"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># ç³»ç»Ÿä¿¡æ¯æ‰“å°</span><br><span class="line"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;ç³»ç»Ÿåç§°:   $&#123;CMAKE_SYSTEM_NAME&#125;&quot;</span>)        # Linux/Windows/<span class="function">Darwin</span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;ç³»ç»Ÿç‰ˆæœ¬:   $&#123;CMAKE_SYSTEM_VERSION&#125;&quot;</span>)</span>     # 5.15.0</span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;å¤„ç†å™¨:     $&#123;CMAKE_SYSTEM_PROCESSOR&#125;&quot;</span>)</span>   # x86_64/aarch64</span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;ä¸»æœºç³»ç»Ÿ:   $&#123;CMAKE_HOST_SYSTEM_NAME&#125;&quot;</span>)</span>   # äº¤å‰ç¼–è¯‘æ—¶æœ‰ç”¨</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># å¹³å°æ£€æµ‹ï¼ˆå¸ƒå°”å˜é‡ï¼‰</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(WIN32)</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(PLATFORM_NAME <span class="string">&quot;windows&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">message</span><span class="params">(STATUS <span class="string">&quot;æ£€æµ‹åˆ° Windows&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">elseif</span><span class="params">(APPLE)</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(PLATFORM_NAME <span class="string">&quot;macos&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">message</span><span class="params">(STATUS <span class="string">&quot;æ£€æµ‹åˆ° macOS (Darwin)&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">elseif</span><span class="params">(UNIX)</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(PLATFORM_NAME <span class="string">&quot;linux&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">message</span><span class="params">(STATUS <span class="string">&quot;æ£€æµ‹åˆ° Linux/Unix&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># æ¶æ„æ£€æµ‹</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(CMAKE_SIZEOF_VOID_P EQUAL <span class="number">8</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(ARCH_NAME <span class="string">&quot;x64&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">else</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(ARCH_NAME <span class="string">&quot;x86&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(CMAKE_SYSTEM_PROCESSOR MATCHES <span class="string">&quot;arm|aarch64|ARM64&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(ARCH_NAME <span class="string">&quot;arm64&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># ç¼–è¯‘å™¨æ£€æµ‹</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(MSVC)</span></span></span><br><span class="line"><span class="function">    <span class="title">message</span><span class="params">(STATUS <span class="string">&quot;ç¼–è¯‘å™¨: MSVC&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">add_compile_options</span><span class="params">(/W4 /utf<span class="number">-8</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">elseif</span><span class="params">(CMAKE_CXX_COMPILER_ID STREQUAL <span class="string">&quot;GNU&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">message</span><span class="params">(STATUS <span class="string">&quot;ç¼–è¯‘å™¨: GCC&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">add_compile_options</span><span class="params">(-Wall -Wextra)</span></span></span><br><span class="line"><span class="function"><span class="title">elseif</span><span class="params">(CMAKE_CXX_COMPILER_ID STREQUAL <span class="string">&quot;Clang&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">message</span><span class="params">(STATUS <span class="string">&quot;ç¼–è¯‘å™¨: Clang&quot;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">add_compile_options</span><span class="params">(-Wall -Wextra)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># äº¤å‰ç¼–è¯‘æ£€æµ‹</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(NOT CMAKE_SYSTEM_NAME STREQUAL CMAKE_HOST_SYSTEM_NAME)</span></span></span><br><span class="line"><span class="function">    <span class="title">message</span><span class="params">(STATUS <span class="string">&quot;äº¤å‰ç¼–è¯‘: $&#123;CMAKE_HOST_SYSTEM_NAME&#125; â†’ $&#123;CMAKE_SYSTEM_NAME&#125;&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;æœ€ç»ˆ: $&#123;PLATFORM_NAME&#125;/$&#123;ARCH_NAME&#125;&quot;</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">#                       ......</span></span><br></pre></td></tr></table></figure>

<h2 id="3-ç¼–è¯‘å™¨ä¸å·¥å…·é“¾å˜é‡"><a href="#3-ç¼–è¯‘å™¨ä¸å·¥å…·é“¾å˜é‡" class="headerlink" title="3.ç¼–è¯‘å™¨ä¸å·¥å…·é“¾å˜é‡"></a>3.ç¼–è¯‘å™¨ä¸å·¥å…·é“¾å˜é‡</h2><h3 id="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-2"><a href="#ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-2" class="headerlink" title="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"></a>ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</h3><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118153916817.png"></p>
<h3 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-2"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-2" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"><span class="built_in">project</span>(MyProject LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"># ==================== C++ æ ‡å‡†è®¾ç½® ====================</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_EXTENSIONS OFF)</span><br><span class="line"></span><br><span class="line"># ==================== ç¼–è¯‘é€‰é¡¹ ====================</span><br><span class="line"># ç¬¬<span class="number">3</span>ç±»ï¼šå®šä¹‰ç¼–è¯‘é€‰é¡¹çš„å†…å®¹</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_FLAGS         <span class="string">&quot;-Wall -Wextra&quot;</span>)      # æ‰€æœ‰æ¨¡å¼éƒ½ç”¨</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_FLAGS_DEBUG   <span class="string">&quot;-g -O0&quot;</span>)             # Debug ä¸“ç”¨</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_FLAGS_RELEASE <span class="string">&quot;-O3 -DNDEBUG&quot;</span>)       # Release ä¸“ç”¨</span><br><span class="line"></span><br><span class="line"># ==================== æ¡ä»¶ç¼–è¯‘ï¼ˆåˆ©ç”¨åªè¯»å˜é‡ï¼‰ ====================</span><br><span class="line"><span class="keyword">if</span>(CMAKE_CXX_COMPILER_ID STREQUAL <span class="string">&quot;GNU&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;ä½¿ç”¨ GCC ç¼–è¯‘å™¨ï¼Œç‰ˆæœ¬: $&#123;CMAKE_CXX_COMPILER_VERSION&#125;&quot;</span>)</span><br><span class="line">    <span class="built_in">add_compile_options</span>(-Wno-unused-parameter)</span><br><span class="line"><span class="built_in">elseif</span>(CMAKE_CXX_COMPILER_ID STREQUAL <span class="string">&quot;Clang&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;ä½¿ç”¨ Clang ç¼–è¯‘å™¨&quot;</span>)</span><br><span class="line">    <span class="built_in">add_compile_options</span>(-Wno-unused-lambda-capture)</span><br><span class="line"><span class="built_in">elseif</span>(CMAKE_CXX_COMPILER_ID STREQUAL <span class="string">&quot;MSVC&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;ä½¿ç”¨ MSVC ç¼–è¯‘å™¨&quot;</span>)</span><br><span class="line">    <span class="built_in">add_compile_options</span>(/W4 /utf<span class="number">-8</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"># ==================== ç‰ˆæœ¬æ£€æŸ¥ç¤ºä¾‹ ====================</span><br><span class="line"><span class="keyword">if</span>(CMAKE_CXX_COMPILER_ID STREQUAL <span class="string">&quot;GNU&quot;</span> AND CMAKE_CXX_COMPILER_VERSION VERSION_LESS <span class="number">9.0</span>)</span><br><span class="line">    <span class="built_in">message</span>(WARNING <span class="string">&quot;GCC ç‰ˆæœ¬è¿‡ä½ï¼Œå»ºè®®å‡çº§åˆ° 9.0+&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">add_executable</span>(main main.cpp)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. åˆ›å»ºæ„å»ºç›®å½•å¹¶è¿›å…¥</span></span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. é…ç½®ï¼ˆé€‰æ‹©æ„å»ºç±»å‹ï¼‰</span></span><br><span class="line">cmake -DCMAKE_BUILD_TYPE=Debug ..    <span class="comment"># Debug æ¨¡å¼</span></span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">cmake -DCMAKE_BUILD_TYPE=Release ..  <span class="comment"># Release æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ç¼–è¯‘</span></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œï¼ˆåœ¨ build ç›®å½•ä¸‹ï¼‰</span></span><br><span class="line">./main</span><br><span class="line"></span><br><span class="line"><span class="comment"># GDB è°ƒè¯•ï¼ˆéœ€è¦ Debug æ„å»ºï¼‰</span></span><br><span class="line">gdb ./main</span><br></pre></td></tr></table></figure>

<h2 id="4-æ„å»ºç±»å‹å˜é‡"><a href="#4-æ„å»ºç±»å‹å˜é‡" class="headerlink" title="4.æ„å»ºç±»å‹å˜é‡"></a>4.æ„å»ºç±»å‹å˜é‡</h2><h3 id="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-3"><a href="#ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-3" class="headerlink" title="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"></a>ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</h3><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118202232268.png"></p>
<h3 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-3"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-3" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</h3><h4 id="å¸¸ç”¨ç²¾ç®€ç‰ˆ-2"><a href="#å¸¸ç”¨ç²¾ç®€ç‰ˆ-2" class="headerlink" title="&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ"></a>&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># å•é…ç½®ç”Ÿæˆå™¨ï¼ˆMakefile/Ninjaï¼‰è®¾ç½®é»˜è®¤æ„å»ºç±»å‹</span><br><span class="line"><span class="keyword">if</span>(NOT CMAKE_BUILD_TYPE)</span><br><span class="line">    <span class="built_in">set</span>(CMAKE_BUILD_TYPE Release CACHE STRING <span class="string">&quot;&quot;</span> FORCE)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="å®Œæ•´ç‰ˆ-2"><a href="#å®Œæ•´ç‰ˆ-2" class="headerlink" title="&lt;2&gt;å®Œæ•´ç‰ˆ"></a>&lt;2&gt;å®Œæ•´ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># æ„å»ºç±»å‹è®¾ç½®</span><br><span class="line"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"></span><br><span class="line"># ğŸ“Œ åˆ¤æ–­æ¡ä»¶è¯´æ˜ï¼š</span><br><span class="line">#    - CMAKE_BUILD_TYPE ç©º â†’ å•é…ç½®ç”Ÿæˆå™¨æœªæŒ‡å®šç±»å‹</span><br><span class="line">#    - CMAKE_CONFIGURATION_TYPES ç©º â†’ ä¸æ˜¯å¤šé…ç½®ç”Ÿæˆå™¨ï¼ˆVS/Xcodeï¼‰</span><br><span class="line"><span class="keyword">if</span>(NOT CMAKE_BUILD_TYPE)</span><br><span class="line">    # ğŸ“Œ CACHE STRINGï¼šå†™å…¥ç¼“å­˜ï¼Œcmake-gui å¯è§</span><br><span class="line">    # ğŸ“Œ FORCEï¼šå¼ºåˆ¶è¦†ç›–å·²æœ‰å€¼</span><br><span class="line">    <span class="built_in">set</span>(CMAKE_BUILD_TYPE <span class="string">&quot;Release&quot;</span> CACHE STRING <span class="string">&quot;æ„å»ºç±»å‹&quot;</span> FORCE)</span><br><span class="line">    </span><br><span class="line">    # ğŸ“Œ cmake-gui ä¸­æ˜¾ç¤ºä¸‹æ‹‰é€‰é¡¹</span><br><span class="line">    <span class="built_in">set_property</span>(CACHE CMAKE_BUILD_TYPE PROPERTY STRINGS</span><br><span class="line">        <span class="string">&quot;Debug&quot;</span> <span class="string">&quot;Release&quot;</span> <span class="string">&quot;RelWithDebInfo&quot;</span> <span class="string">&quot;MinSizeRel&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;å½“å‰æ„å»ºç±»å‹: $&#123;CMAKE_BUILD_TYPE&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># å¤šé…ç½®ç”Ÿæˆå™¨å¤„ç†ï¼ˆVS/Xcodeï¼‰</span><br><span class="line"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"></span><br><span class="line"># ğŸ“Œ CMAKE_CONFIGURATION_TYPES ä»…å¤šé…ç½®ç”Ÿæˆå™¨æœ‰å€¼</span><br><span class="line"><span class="keyword">if</span>(CMAKE_CONFIGURATION_TYPES)</span><br><span class="line">    # ğŸ“Œ é™åˆ¶åªæ”¯æŒ Debug å’Œ <span class="function">Release</span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(CMAKE_CONFIGURATION_TYPES <span class="string">&quot;Debug;Release&quot;</span> CACHE STRING <span class="string">&quot;&quot;</span> FORCE)</span></span></span><br><span class="line"><span class="function">    <span class="title">message</span><span class="params">(STATUS <span class="string">&quot;å¤šé…ç½®ç±»å‹: $&#123;CMAKE_CONFIGURATION_TYPES&#125;&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># æŒ‰æ„å»ºç±»å‹æ¡ä»¶ç¼–è¯‘ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼Œæ¨èï¼‰</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">add_executable</span><span class="params">(myapp main.cpp)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># ğŸ“Œ $&lt;CONFIG:xxx&gt; åœ¨ç”Ÿæˆæ—¶æ ¹æ®å®é™…é…ç½®å±•å¼€</span></span><br><span class="line"><span class="function"># ğŸ“Œ å•é…ç½®å’Œå¤šé…ç½®ç”Ÿæˆå™¨éƒ½é€‚ç”¨</span></span><br><span class="line"><span class="function">target_compile_definitions(myapp PRIVATE</span></span><br><span class="line"><span class="function">    $&lt;$&lt;CONFIG:Debug&gt;:DEBUG_MODE&gt;      # Debug æ—¶å®šä¹‰ DEBUG_MODE</span></span><br><span class="line"><span class="function">    $&lt;$&lt;CONFIG:Release&gt;:NDEBUG&gt;        # Release æ—¶å®šä¹‰ NDEBUG</span></span><br><span class="line"><span class="function">)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">target_compile_options(myapp PRIVATE</span></span><br><span class="line"><span class="function">    $&lt;$&lt;CONFIG:Debug&gt;:-g -O0&gt;          # Debugï¼šæ— ä¼˜åŒ–+è°ƒè¯•ç¬¦å·</span></span><br><span class="line"><span class="function">    $&lt;$&lt;CONFIG:Release&gt;:-O3&gt;           # Releaseï¼šæœ€é«˜ä¼˜åŒ–</span></span><br><span class="line"><span class="function">)</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118203157380.png"></p>
<h2 id="æ‹“ï¼šç¼–è¯‘å™¨å˜é‡-vs-æ„å»ºç±»å‹å˜é‡"><a href="#æ‹“ï¼šç¼–è¯‘å™¨å˜é‡-vs-æ„å»ºç±»å‹å˜é‡" class="headerlink" title="æ‹“ï¼šç¼–è¯‘å™¨å˜é‡ vs æ„å»ºç±»å‹å˜é‡"></a>æ‹“ï¼šç¼–è¯‘å™¨å˜é‡ vs æ„å»ºç±»å‹å˜é‡</h2><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118203245613.png"><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118203314548.png"></p>
<h2 id="5-é¡¹ç›®è·¯å¾„å˜é‡"><a href="#5-é¡¹ç›®è·¯å¾„å˜é‡" class="headerlink" title="5.é¡¹ç›®è·¯å¾„å˜é‡"></a>5.é¡¹ç›®è·¯å¾„å˜é‡</h2><h3 id="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-4"><a href="#ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-4" class="headerlink" title="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"></a>ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</h3><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118105157843.png"></p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">myproject<span class="symbol">/</span>                      â† CMAKE_SOURCE_DIR <span class="symbol">/</span> PROJECT_SOURCE_DIR</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">â”œâ”€â”€ build<span class="symbol">/</span>                      â† CMAKE_BINARY_DIR <span class="symbol">/</span> PROJECT_BINARY_DIR</span><br><span class="line">â”œâ”€â”€ src<span class="symbol">/</span></span><br><span class="line">â”‚   â””â”€â”€ module<span class="symbol">/</span></span><br><span class="line">â”‚       â””â”€â”€ CMakeLists.txt      â† CMAKE_CURRENT_SOURCE_DIR (å¤„ç†æ­¤æ–‡ä»¶æ—¶)</span><br><span class="line">â””â”€â”€ cmake<span class="symbol">/</span></span><br><span class="line">    â””â”€â”€ utils.cmake             â† CMAKE_CURRENT_LIST_DIR (include æ­¤æ–‡ä»¶æ—¶)</span><br></pre></td></tr></table></figure>

<h3 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-4"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-4" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</h3><p><strong>ä»¥ï¼ˆ1ï¼‰ä¸­çš„ç›®å½•ä¸ºä¾‹</strong></p>
<h4 id="å¸¸ç”¨ç²¾ç®€ç‰ˆ-3"><a href="#å¸¸ç”¨ç²¾ç®€ç‰ˆ-3" class="headerlink" title="&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ"></a>&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"><span class="built_in">project</span>(MyApp VERSION <span class="number">1.0</span><span class="number">.0</span> LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"></span><br><span class="line"># åŠ è½½è‡ªå®šä¹‰æ¨¡å—</span><br><span class="line"><span class="built_in">list</span>(APPEND CMAKE_MODULE_PATH <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/cmake&quot;</span>)</span><br><span class="line"></span><br><span class="line"># å¤´æ–‡ä»¶ &amp; æºæ–‡ä»¶</span><br><span class="line"><span class="built_in">include_directories</span>($&#123;PROJECT_SOURCE_DIR&#125;/include)</span><br><span class="line"><span class="built_in">add_subdirectory</span>(src/<span class="keyword">module</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">add_executable</span>($&#123;PROJECT_NAME&#125; src/main.cpp)</span><br></pre></td></tr></table></figure>

<h4 id="å®Œæ•´ç‰ˆ-3"><a href="#å®Œæ•´ç‰ˆ-3" class="headerlink" title="&lt;2&gt;å®Œæ•´ç‰ˆ"></a>&lt;2&gt;å®Œæ•´ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"><span class="built_in">project</span>(MyApp VERSION <span class="number">1.0</span><span class="number">.0</span> LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)</span><br><span class="line"></span><br><span class="line"># ==================== ç›®å½•å˜é‡æ¼”ç¤º ====================</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;========== é¡¶å±‚ CMakeLists.txt ==========&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;CMAKE_SOURCE_DIR:         $&#123;CMAKE_SOURCE_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myproject</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;CMAKE_BINARY_DIR:         $&#123;CMAKE_BINARY_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myproject/build</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;PROJECT_SOURCE_DIR:       $&#123;PROJECT_SOURCE_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myprojectï¼ˆä¸ CMAKE_SOURCE_DIR ç›¸åŒï¼‰</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;PROJECT_BINARY_DIR:       $&#123;PROJECT_BINARY_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myproject/build</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;CMAKE_CURRENT_SOURCE_DIR: $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myprojectï¼ˆå½“å‰å¤„ç†çš„æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼‰</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;CMAKE_CURRENT_BINARY_DIR: $&#123;CMAKE_CURRENT_BINARY_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myproject/build</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;=============================================&quot;</span>)</span><br><span class="line"></span><br><span class="line"># ==================== åŠ è½½è‡ªå®šä¹‰æ¨¡å— ====================</span><br><span class="line"><span class="built_in">list</span>(APPEND CMAKE_MODULE_PATH <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/cmake&quot;</span>)</span><br><span class="line"><span class="built_in">include</span>(utils)  # åŠ è½½ cmake/utils.cmake</span><br><span class="line"></span><br><span class="line"># ==================== è¾“å‡ºç›®å½•é…ç½® ====================</span><br><span class="line"><span class="built_in">set</span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY $&#123;PROJECT_BINARY_DIR&#125;/bin)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_LIBRARY_OUTPUT_DIRECTORY $&#123;PROJECT_BINARY_DIR&#125;/lib)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_ARCHIVE_OUTPUT_DIRECTORY $&#123;PROJECT_BINARY_DIR&#125;/lib)</span><br><span class="line"></span><br><span class="line"># ==================== æ·»åŠ å­ç›®å½• ====================</span><br><span class="line"><span class="built_in">add_subdirectory</span>(src/<span class="keyword">module</span>)</span><br><span class="line"></span><br><span class="line"># ==================== ä¸»ç¨‹åº ====================</span><br><span class="line"><span class="built_in">add_executable</span>($&#123;PROJECT_NAME&#125; src/main.cpp)</span><br><span class="line"><span class="built_in">target_link_libraries</span>($&#123;PROJECT_NAME&#125; PRIVATE <span class="keyword">module</span>)</span><br></pre></td></tr></table></figure>
<p><strong>å­ç›®å½• myproject&#x2F;src&#x2F;module&#x2F;CMakeLists.txt</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># ==================== å­ç›®å½•ä¸­çš„ç›®å½•å˜é‡ ====================</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;========== src/module/CMakeLists.txt ==========&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;CMAKE_SOURCE_DIR:         $&#123;CMAKE_SOURCE_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myprojectï¼ˆä¸å˜ï¼Œå§‹ç»ˆæ˜¯é¡¶å±‚ï¼‰</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;CMAKE_BINARY_DIR:         $&#123;CMAKE_BINARY_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myproject/buildï¼ˆä¸å˜ï¼‰</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;PROJECT_SOURCE_DIR:       $&#123;PROJECT_SOURCE_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myprojectï¼ˆæ²¡æœ‰æ–° <span class="built_in">project</span>()ï¼Œæ²¿ç”¨çˆ¶çº§ï¼‰</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;CMAKE_CURRENT_SOURCE_DIR: $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myproject/src/<span class="keyword">module</span> â­ å˜äº†</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;CMAKE_CURRENT_BINARY_DIR: $&#123;CMAKE_CURRENT_BINARY_DIR&#125;&quot;</span>)</span><br><span class="line">#                                          â†’ /home/user/myproject/build/src/<span class="keyword">module</span> â­ å˜äº†</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;================================================&quot;</span>)</span><br><span class="line"></span><br><span class="line"># ==================== åˆ›å»ºæ¨¡å—åº“ ====================</span><br><span class="line"><span class="built_in">add_library</span>(<span class="keyword">module</span> STATIC</span><br><span class="line">    $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/<span class="keyword">module</span>.cpp</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">target_include_directories</span>(<span class="keyword">module</span> PUBLIC</span><br><span class="line">    $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/include</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="6-è¾“å‡ºè·¯å¾„å˜é‡"><a href="#6-è¾“å‡ºè·¯å¾„å˜é‡" class="headerlink" title="6.è¾“å‡ºè·¯å¾„å˜é‡"></a>6.è¾“å‡ºè·¯å¾„å˜é‡</h2><h3 id="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-5"><a href="#ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-5" class="headerlink" title="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"></a>ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</h3><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118152755840.png"></p>
<h3 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-5"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-5" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/bin)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_LIBRARY_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/lib)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_ARCHIVE_OUTPUT_DIRECTORY $&#123;CMAKE_BINARY_DIR&#125;/lib)</span><br></pre></td></tr></table></figure>

<h2 id="7-å®‰è£…è·¯å¾„"><a href="#7-å®‰è£…è·¯å¾„" class="headerlink" title="7.å®‰è£…è·¯å¾„"></a>7.å®‰è£…è·¯å¾„</h2><p>ä½ çš„é¡¹ç›®ç¼–è¯‘äº§ç‰©çš„å®‰è£…è·¯å¾„ï¼Œå³æ‰§è¡Œ cmake â€“install æˆ– make install æ—¶ï¼Œæ–‡ä»¶è¢«å¤åˆ¶åˆ°çš„ç›®æ ‡ä½ç½®ã€‚</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æºç ç›®å½•          æ„å»ºç›®å½•              å®‰è£…ç›®å½•</span><br><span class="line">src<span class="regexp">/main.cpp  â†’  build/my</span>app      â†’  <span class="regexp">/usr/</span>local<span class="regexp">/bin/my</span>app</span><br><span class="line">src<span class="regexp">/mylib.cpp â†’  build/</span>libmy.so   â†’  <span class="regexp">/usr/</span>local<span class="regexp">/lib/</span>libmy.so</span><br><span class="line">include<span class="regexp">/*.h   â†’  ï¼ˆä¸å˜ï¼‰          â†’  /u</span>sr<span class="regexp">/local/i</span>nclude/*.h</span><br><span class="line"></span><br><span class="line">    ç¼–è¯‘                 å®‰è£…</span><br><span class="line">  cmake --build .    cmake --install .</span><br></pre></td></tr></table></figure>

<h3 id="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-6"><a href="#ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-6" class="headerlink" title="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"></a>ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</h3><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118203635317.png"></p>
<h3 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-6"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-6" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</h3><h4 id="å¸¸ç”¨ç²¾ç®€ç‰ˆ-4"><a href="#å¸¸ç”¨ç²¾ç®€ç‰ˆ-4" class="headerlink" title="&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ"></a>&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># è®¾ç½®å®‰è£…å‰ç¼€</span><br><span class="line"><span class="built_in">set</span>(CMAKE_INSTALL_PREFIX <span class="string">&quot;/opt/myapp&quot;</span> CACHE PATH <span class="string">&quot;&quot;</span> FORCE)</span><br><span class="line"></span><br><span class="line"># å®‰è£…å¯æ‰§è¡Œæ–‡ä»¶å’Œåº“</span><br><span class="line"><span class="built_in">install</span>(TARGETS myapp mylib</span><br><span class="line">    RUNTIME DESTINATION bin</span><br><span class="line">    LIBRARY DESTINATION lib</span><br><span class="line">    ARCHIVE DESTINATION lib</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># å®‰è£…å¤´æ–‡ä»¶</span><br><span class="line"><span class="built_in">install</span>(DIRECTORY include/ DESTINATION include)</span><br></pre></td></tr></table></figure>
<h4 id="å®Œæ•´ç‰ˆ-4"><a href="#å®Œæ•´ç‰ˆ-4" class="headerlink" title="&lt;2&gt;å®Œæ•´ç‰ˆ"></a>&lt;2&gt;å®Œæ•´ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"># å¼•å…¥ GNUInstallDirs æ¨¡å—ï¼ˆæä¾›æ ‡å‡†å®‰è£…ç›®å½•å˜é‡ï¼‰</span><br><span class="line"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br><span class="line"></span><br><span class="line"># ğŸ“Œ è‡ªåŠ¨è®¾ç½® CMAKE_INSTALL_BINDIRã€CMAKE_INSTALL_LIBDIR ç­‰</span><br><span class="line"># ğŸ“Œ ä¼šæ ¹æ®ç³»ç»Ÿè‡ªåŠ¨å¤„ç† <span class="function">lib vs lib64</span></span><br><span class="line"><span class="function"><span class="title">include</span><span class="params">(GNUInstallDirs)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># è‡ªå®šä¹‰å®‰è£…å‰ç¼€ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># ğŸ“Œ ä»…åœ¨æœªæŒ‡å®šæ—¶è®¾ç½®é»˜è®¤å€¼</span></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)</span></span></span><br><span class="line"><span class="function">    <span class="title">set</span><span class="params">(CMAKE_INSTALL_PREFIX <span class="string">&quot;/opt/$&#123;PROJECT_NAME&#125;&quot;</span> CACHE PATH <span class="string">&quot;å®‰è£…è·¯å¾„&quot;</span> FORCE)</span></span></span><br><span class="line"><span class="function"><span class="title">endif</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;å®‰è£…å‰ç¼€: $&#123;CMAKE_INSTALL_PREFIX&#125;&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;  bin:     $&#123;CMAKE_INSTALL_BINDIR&#125;&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;  lib:     $&#123;CMAKE_INSTALL_LIBDIR&#125;&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">message</span><span class="params">(STATUS <span class="string">&quot;  include: $&#123;CMAKE_INSTALL_INCLUDEDIR&#125;&quot;</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># å®šä¹‰ç›®æ ‡</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">add_executable</span><span class="params">(myapp src/main.cpp)</span></span></span><br><span class="line"><span class="function"><span class="title">add_library</span><span class="params">(mylib SHARED src/mylib.cpp)</span></span></span><br><span class="line"><span class="function"><span class="title">add_library</span><span class="params">(mylib_static STATIC src/mylib.cpp)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># å®‰è£…å¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">install</span><span class="params">(TARGETS myapp</span></span></span><br><span class="line"><span class="params"><span class="function">    RUNTIME DESTINATION $&#123;CMAKE_INSTALL_BINDIR&#125;   # ğŸ“Œ â†’ prefix/bin</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># å®‰è£…åº“æ–‡ä»¶</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">install</span><span class="params">(TARGETS mylib mylib_static</span></span></span><br><span class="line"><span class="params"><span class="function">    LIBRARY DESTINATION $&#123;CMAKE_INSTALL_LIBDIR&#125;   # ğŸ“Œ .so â†’ prefix/lib</span></span></span><br><span class="line"><span class="params"><span class="function">    ARCHIVE DESTINATION $&#123;CMAKE_INSTALL_LIBDIR&#125;   # ğŸ“Œ .a  â†’ prefix/lib</span></span></span><br><span class="line"><span class="params"><span class="function">    RUNTIME DESTINATION $&#123;CMAKE_INSTALL_BINDIR&#125;   # ğŸ“Œ .dllï¼ˆWindowsï¼‰</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># å®‰è£…å¤´æ–‡ä»¶</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">install</span><span class="params">(DIRECTORY include/</span></span></span><br><span class="line"><span class="params"><span class="function">    DESTINATION $&#123;CMAKE_INSTALL_INCLUDEDIR&#125;       # ğŸ“Œ â†’ prefix/include</span></span></span><br><span class="line"><span class="params"><span class="function">    FILES_MATCHING PATTERN <span class="string">&quot;*.h&quot;</span> PATTERN <span class="string">&quot;*.hpp&quot;</span>  # ğŸ“Œ åªå¤åˆ¶å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># æˆ–å®‰è£…å•ä¸ªå¤´æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="title">install</span><span class="params">(FILES include/mylib.h</span></span></span><br><span class="line"><span class="params"><span class="function">    DESTINATION $&#123;CMAKE_INSTALL_INCLUDEDIR&#125;/mylib</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># å®‰è£…æ•°æ®/èµ„æºæ–‡ä»¶</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">install</span><span class="params">(DIRECTORY resources/</span></span></span><br><span class="line"><span class="params"><span class="function">    DESTINATION $&#123;CMAKE_INSTALL_DATADIR&#125;/$&#123;PROJECT_NAME&#125;  # ğŸ“Œ â†’ prefix/share/myapp</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"># å®‰è£…é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="function"># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">install</span><span class="params">(FILES config/myapp.conf</span></span></span><br><span class="line"><span class="params"><span class="function">    DESTINATION $&#123;CMAKE_INSTALL_SYSCONFDIR&#125;/$&#123;PROJECT_NAME&#125;  # ğŸ“Œ â†’ prefix/etc/myapp</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br></pre></td></tr></table></figure>
<p><strong>å®‰è£…å‘½ä»¤</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># é…ç½®</span><br><span class="line">cmake -S . -B build -DCMAKE_INSTALL_PREFIX=/opt/myapp</span><br><span class="line"></span><br><span class="line"># ç¼–è¯‘</span><br><span class="line">cmake --build build</span><br><span class="line"></span><br><span class="line"># å®‰è£…ï¼ˆå¯èƒ½éœ€è¦ sudoï¼‰</span><br><span class="line">cmake --install build</span><br><span class="line"></span><br><span class="line"># å®‰è£…åˆ°ä¸´æ—¶ç›®å½•ï¼ˆæ‰“åŒ…ç”¨ï¼‰</span><br><span class="line">cmake --install build --prefix ./package</span><br></pre></td></tr></table></figure>


<h2 id="8-æŸ¥åŒ…ç›¸å…³å˜é‡"><a href="#8-æŸ¥åŒ…ç›¸å…³å˜é‡" class="headerlink" title="8.æŸ¥åŒ…ç›¸å…³å˜é‡"></a>8.æŸ¥åŒ…ç›¸å…³å˜é‡</h2><h3 id="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-7"><a href="#ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼-7" class="headerlink" title="ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼"></a>ï¼ˆ1ï¼‰æ±‡æ€»è¡¨æ ¼</h3><p><img src="https://cdn.jsdelivr.net/gh/xianyubuxian-TXY/hexo-images/images/20260118155211465.png"></p>
<h3 id="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-7"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹-7" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹</h3><h4 id="å¸¸ç”¨ç²¾ç®€ç‰ˆ-5"><a href="#å¸¸ç”¨ç²¾ç®€ç‰ˆ-5" class="headerlink" title="&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ"></a>&lt;1&gt;å¸¸ç”¨ç²¾ç®€ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"><span class="built_in">project</span>(MyProject LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)</span><br><span class="line"></span><br><span class="line"># ==================== æœç´¢è·¯å¾„ ====================</span><br><span class="line"><span class="built_in">set</span>(CMAKE_PREFIX_PATH <span class="string">&quot;/opt/Qt6&quot;</span> <span class="string">&quot;/usr/local&quot;</span>)</span><br><span class="line"></span><br><span class="line"># ==================== æŸ¥æ‰¾åŒ… ====================</span><br><span class="line"><span class="built_in">find_package</span>(Qt6 COMPONENTS Core Widgets REQUIRED)</span><br><span class="line"><span class="built_in">find_package</span>(OpenSSL REQUIRED)</span><br><span class="line"><span class="built_in">find_package</span>(ZLIB QUIET)  # å¯é€‰</span><br><span class="line"></span><br><span class="line"># ==================== æ¡ä»¶åˆ¤æ–­ ====================</span><br><span class="line"><span class="keyword">if</span>(ZLIB_FOUND)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;ZLIB ç‰ˆæœ¬: $&#123;ZLIB_VERSION_STRING&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"># ==================== åˆ›å»ºç›®æ ‡ ====================</span><br><span class="line"><span class="built_in">add_executable</span>(myapp main.cpp)</span><br><span class="line"></span><br><span class="line"># ==================== é“¾æ¥åº“ï¼ˆç°ä»£æ–¹å¼ï¼‰ ====================</span><br><span class="line"><span class="built_in">target_link_libraries</span>(myapp PRIVATE</span><br><span class="line">    Qt6::Core</span><br><span class="line">    Qt6::Widgets</span><br><span class="line">    OpenSSL::SSL</span><br><span class="line">    OpenSSL::Crypto</span><br><span class="line">    $&lt;$&lt;BOOL:$&#123;ZLIB_FOUND&#125;&gt;:ZLIB::ZLIB&gt;  # æ¡ä»¶é“¾æ¥</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="å®Œæ•´ç‰ˆ-5"><a href="#å®Œæ•´ç‰ˆ-5" class="headerlink" title="&lt;2&gt;å®Œæ•´ç‰ˆ"></a>&lt;2&gt;å®Œæ•´ç‰ˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.15</span>)</span><br><span class="line"><span class="built_in">project</span>(FindPackageDemo LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)</span><br><span class="line"></span><br><span class="line"># ==================== æœç´¢è·¯å¾„é…ç½® ====================</span><br><span class="line"># æŒ‡å®šç¬¬ä¸‰æ–¹åº“å®‰è£…ä½ç½®</span><br><span class="line"><span class="built_in">set</span>(CMAKE_PREFIX_PATH </span><br><span class="line">    <span class="string">&quot;/opt/Qt6&quot;</span></span><br><span class="line">    <span class="string">&quot;/usr/local&quot;</span></span><br><span class="line">    <span class="string">&quot;$ENV&#123;HOME&#125;/libs&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># æ·»åŠ è‡ªå®šä¹‰ CMake æ¨¡å—è·¯å¾„</span><br><span class="line"><span class="built_in">set</span>(CMAKE_MODULE_PATH <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/cmake&quot;</span> $&#123;CMAKE_MODULE_PATH&#125;)</span><br><span class="line"></span><br><span class="line"># ==================== æŸ¥æ‰¾åŒ… ====================</span><br><span class="line"># æŸ¥æ‰¾ Qt6ï¼ˆCONFIG æ¨¡å¼ï¼‰</span><br><span class="line"><span class="built_in">find_package</span>(Qt6 COMPONENTS Core Widgets REQUIRED)</span><br><span class="line"></span><br><span class="line"># æŸ¥æ‰¾ OpenSSLï¼ˆMODULE æ¨¡å¼ï¼‰</span><br><span class="line"><span class="built_in">find_package</span>(OpenSSL REQUIRED)</span><br><span class="line"></span><br><span class="line"># æŸ¥æ‰¾ ZLIBï¼ˆå¯é€‰ï¼‰</span><br><span class="line"><span class="built_in">find_package</span>(ZLIB QUIET)</span><br><span class="line"></span><br><span class="line"># ==================== æ¡ä»¶åˆ¤æ–­ï¼š_FOUND ====================</span><br><span class="line"><span class="keyword">if</span>(Qt6_FOUND)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;âœ… Qt6 æ‰¾åˆ°&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;   ç‰ˆæœ¬: $&#123;Qt6_VERSION&#125;&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;   é…ç½®æ–‡ä»¶: $&#123;Qt6_CONFIG&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">else</span>()</span><br><span class="line">    <span class="built_in">message</span>(FATAL_ERROR <span class="string">&quot;âŒ Qt6 æœªæ‰¾åˆ°&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(OpenSSL_FOUND)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;âœ… OpenSSL æ‰¾åˆ°&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;   ç‰ˆæœ¬: $&#123;OPENSSL_VERSION&#125;&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;   å¤´æ–‡ä»¶: $&#123;OPENSSL_INCLUDE_DIR&#125;&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;   åº“æ–‡ä»¶: $&#123;OPENSSL_LIBRARIES&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(ZLIB_FOUND)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;âœ… ZLIB æ‰¾åˆ°ï¼Œç‰ˆæœ¬: $&#123;ZLIB_VERSION_STRING&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">else</span>()</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;âš ï¸ ZLIB æœªæ‰¾åˆ°ï¼Œå°†ä½¿ç”¨å†…ç½®å®ç°&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"># ==================== ç‰ˆæœ¬æ£€æŸ¥ï¼š_VERSION_* ====================</span><br><span class="line"><span class="keyword">if</span>(Qt6_VERSION_MAJOR GREATER_EQUAL <span class="number">6</span> AND Qt6_VERSION_MINOR GREATER_EQUAL <span class="number">5</span>)</span><br><span class="line">    <span class="built_in">message</span>(STATUS <span class="string">&quot;Qt6 ç‰ˆæœ¬ &gt;= 6.5ï¼Œå¯ç”¨æ–°ç‰¹æ€§&quot;</span>)</span><br><span class="line">    <span class="built_in">add_compile_definitions</span>(QT_NEW_FEATURES)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"># ç²¾ç¡®ç‰ˆæœ¬æ¯”è¾ƒ</span><br><span class="line"><span class="keyword">if</span>(Qt6_VERSION VERSION_LESS <span class="string">&quot;6.2.0&quot;</span>)</span><br><span class="line">    <span class="built_in">message</span>(WARNING <span class="string">&quot;Qt6 ç‰ˆæœ¬è¿‡ä½ï¼Œå»ºè®®å‡çº§åˆ° 6.2.0+&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"># ==================== åˆ›å»ºç›®æ ‡ ====================</span><br><span class="line"><span class="built_in">add_executable</span>(myapp main.cpp)</span><br><span class="line"></span><br><span class="line"># ==================== ä½¿ç”¨ _INCLUDE_DIRS ====================</span><br><span class="line"># æ–¹å¼<span class="number">1</span>ï¼šç°ä»£ CMakeï¼ˆæ¨èï¼Œè‡ªåŠ¨ä¼ é€’ï¼‰</span><br><span class="line"><span class="built_in">target_link_libraries</span>(myapp PRIVATE </span><br><span class="line">    Qt6::Core </span><br><span class="line">    Qt6::Widgets</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># æ–¹å¼<span class="number">2</span>ï¼šä¼ ç»Ÿæ–¹å¼ï¼ˆæ˜¾å¼æŒ‡å®šï¼‰</span><br><span class="line"><span class="keyword">if</span>(OpenSSL_FOUND)</span><br><span class="line">    <span class="built_in">target_include_directories</span>(myapp PRIVATE $&#123;OPENSSL_INCLUDE_DIR&#125;)</span><br><span class="line">    <span class="built_in">target_link_libraries</span>(myapp PRIVATE $&#123;OPENSSL_LIBRARIES&#125;)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"># ==================== ä½¿ç”¨ _LIBRARIES ====================</span><br><span class="line"># ç°ä»£å¯¼å…¥ç›®æ ‡ï¼ˆæ¨èï¼‰</span><br><span class="line"># Qt6::Core, Qt6::Widgets è‡ªåŠ¨åŒ…å«å¤´æ–‡ä»¶è·¯å¾„å’Œä¾èµ–</span><br><span class="line"></span><br><span class="line"># ä¼ ç»Ÿåº“å˜é‡</span><br><span class="line"><span class="keyword">if</span>(ZLIB_FOUND)</span><br><span class="line">    <span class="built_in">target_include_directories</span>(myapp PRIVATE $&#123;ZLIB_INCLUDE_DIRS&#125;)</span><br><span class="line">    <span class="built_in">target_link_libraries</span>(myapp PRIVATE $&#123;ZLIB_LIBRARIES&#125;)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"># ==================== æ‰“å°æ‰€æœ‰å˜é‡ï¼ˆè°ƒè¯•ç”¨ï¼‰ ====================</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;========== åŒ…ä¿¡æ¯æ±‡æ€» ==========&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;Qt6_FOUND:         $&#123;Qt6_FOUND&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;Qt6_VERSION:       $&#123;Qt6_VERSION&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;Qt6_VERSION_MAJOR: $&#123;Qt6_VERSION_MAJOR&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;Qt6_VERSION_MINOR: $&#123;Qt6_VERSION_MINOR&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;Qt6_CONFIG:        $&#123;Qt6_CONFIG&#125;&quot;</span>)</span><br><span class="line"><span class="built_in">message</span>(STATUS <span class="string">&quot;================================&quot;</span>)</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>è¯·æˆ‘ä¸€æ¯å’–å•¡å§ï¼</div>
  <button>
    èµèµ
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpg" alt="å’¸é±¼ å¾®ä¿¡">
        <span>å¾®ä¿¡</span>
      </div>
      <div>
        <img src="/images/alipay.jpg" alt="å’¸é±¼ æ”¯ä»˜å®">
        <span>æ”¯ä»˜å®</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>å’¸é±¼
  </li>
  <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://xianyubuxian-txy.github.io/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/CMakeLists%E7%AC%94%E8%AE%B0/" title="CMakeListsç¬”è®°">https://xianyubuxian-txy.github.io/2026/01/15/C++/C++åç«¯å¼€å‘å¸¸ç”¨åº“/CMakeListsç¬”è®°/</a>
  </li>
  <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag"># ç¬”è®°</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/gtest%E7%9A%84%E4%BD%BF%E7%94%A8/" rel="prev" title="gtestçš„ä½¿ç”¨">
                  <i class="fa fa-angle-left"></i> gtestçš„ä½¿ç”¨
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/kafka%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" rel="next" title="kafkaä½¿ç”¨æ•™ç¨‹">
                  kafkaä½¿ç”¨æ•™ç¨‹ <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="waline"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">å’¸é±¼</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">177k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">9:49</span>
  </span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/xianyubuxian-TXY" class="github-corner" title="åœ¨ GitHub ä¸Šå…³æ³¨æˆ‘" aria-label="åœ¨ GitHub ä¸Šå…³æ³¨æˆ‘" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://waline-beta-black.vercel.app","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"è¯·æ–‡æ˜è¯„è®ºå‘€","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/2026/01/15/C++/C++%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%BA%93/CMakeLists%E7%AC%94%E8%AE%B0/"}</script>
<link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css">
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script>

</body>
</html>
